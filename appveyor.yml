image: Visual Studio 2019
version: 1.0.{build}
configuration: Release

assembly_info:
  patch: true
  file: '**\AssemblyInfo.*'
  assembly_version: 1.0.0
  assembly_file_version: '{version}'
  assembly_informational_version: '{version}'

before_build:
- nuget restore SharpDXLab\SharpDXLab.sln

build:
  project: SharpDXLab\SharpDXLab.sln
  verbosity: minimal

after_build:
  - if "%APPVEYOR_REPO_NAME%" == "JeremyAnsel/SharpDXLab" echo %APPVEYOR_REPO_NAME%

after_test:
- git config core.safecrlf false
- git config push.default simple
- git config user.name \"Jérémy Ansel\""
- git config user.email JeremyAnsel@users.noreply.github.com
- git add -v --all images
- git commit -v -m "Update test generated by CI"
